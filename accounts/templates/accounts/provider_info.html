{% extends "accounts/provider_base.html" %}

{% block content %}
<div class="row">
    <div class="col-lg-4 mb-4">
        <!-- Profile Card -->
        <div class="card border-0 shadow-sm rounded-4 text-center p-4 h-100">
            <div class="mb-3 position-relative d-inline-block">
                {% if user.providerprofile.profile_picture %}
                <img src="{{ user.providerprofile.profile_picture.url }}"
                    class="rounded-circle border border-4 border-white shadow-sm"
                    style="width: 120px; height: 120px; object-fit: cover;" alt="Profile">
                {% else %}
                <img src="https://ui-avatars.com/api/?name={{ user.username }}&background=e91e63&color=fff&size=128"
                    class="rounded-circle border border-4 border-white shadow-sm" style="width: 120px; height: 120px;"
                    alt="Profile">
                {% endif %}
                <button class="btn btn-sm btn-primary rounded-circle position-absolute bottom-0 end-0"
                    style="width: 32px; height: 32px;"><i class="fa-solid fa-camera small"></i></button>
            </div>
            <h5 class="fw-bold mb-1">{{ user.first_name }} {{ user.last_name }}</h5>
            <p class="text-muted mb-2">@{{ user.username }}</p>
            <div class="badge bg-success-subtle text-success rounded-pill px-3 py-2 mb-3">Verified Provider</div>

            <div class="d-flex justify-content-center gap-2 mb-4">
                <a href="#" class="btn btn-outline-secondary btn-sm"><i class="fa-brands fa-facebook-f"></i></a>
                <a href="#" class="btn btn-outline-secondary btn-sm"><i class="fa-brands fa-twitter"></i></a>
                <a href="#" class="btn btn-outline-secondary btn-sm"><i class="fa-brands fa-instagram"></i></a>
                <a href="#" class="btn btn-outline-secondary btn-sm"><i class="fa-brands fa-linkedin-in"></i></a>
            </div>

            <div class="text-start border-top pt-3">
                <small class="text-dark fw-bold d-block mb-1">About Me</small>
                <p class="text-muted small">Professional service provider with 5+ years of experience in the industry.
                    Committed to delivering high-quality results.</p>
            </div>
        </div>
    </div>

    <div class="col-lg-8">
        <!-- Edit Info Form -->
        <div class="card border-0 shadow-sm rounded-4 p-4">
            <h5 class="fw-bold mb-4">Personal Information</h5>
            <form>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label class="form-label small text-muted">First Name</label>
                        <input type="text" class="form-control" value="{{ user.first_name }}">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small text-muted">Last Name</label>
                        <input type="text" class="form-control" value="{{ user.last_name }}">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small text-muted">Email Address</label>
                        <input type="email" class="form-control" value="{{ user.email }}" readonly>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small text-muted">Phone Number</label>
                        <input type="tel" class="form-control" value="+1 234 567 890">
                    </div>
                    <div class="col-12">
                        <label class="form-label small text-muted">Address</label>
                        <input type="text" class="form-control" value="123 Street Name, City, Country">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small text-muted">City</label>
                        <input type="text" class="form-control" value="New York">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small text-muted">Zip Code</label>
                        <input type="text" class="form-control" value="10001">
                    </div>
                    <div class="col-12">
                        <label class="form-label small text-muted">Bio</label>
                        <textarea class="form-control"
                            rows="4">Professional service provider with 5+ years of experience...</textarea>
                    </div>
                </div>
                <div class="mt-4 text-end">
                    <button type="submit" class="btn btn-primary px-4">Save Changes</button>
                </div>
            </form>
        </div>

        <div class="card border-0 shadow-sm rounded-4 p-4 mt-4">
            <h5 class="fw-bold mb-4">Change Password</h5>
            <form action="{% url 'change_password' %}" method="POST">
                {% csrf_token %}
                <div class="row g-3">
                    <div class="col-md-12">
                        <label class="form-label small text-muted">Current Password</label>
                        <input type="password" name="current_password" class="form-control">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small text-muted">New Password</label>
                        <input type="password" name="new_password" class="form-control">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label small text-muted">Confirm Password</label>
                        <input type="password" name="confirm_password" class="form-control">
                    </div>
                </div>
                <div class="mt-4 text-end">
                    <button type="submit" class="btn btn-dark px-4">Update Password</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}